<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fit-mqtt-client: MessageStore Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">fit-mqtt-client
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classMessageStore.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-slots">Private Slots</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classMessageStore-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MessageStore Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for MessageStore:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classMessageStore.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:ab2bb020b11f5bebf1ce8ca9b47975b7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageStore.html#ab2bb020b11f5bebf1ce8ca9b47975b7a">addMessage</a> (const mqtt::const_message_ptr msg, MessageType type=MessageType::RECEIVED)</td></tr>
<tr class="memdesc:ab2bb020b11f5bebf1ce8ca9b47975b7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new message to the store.  <a href="classMessageStore.html#ab2bb020b11f5bebf1ce8ca9b47975b7a">More...</a><br /></td></tr>
<tr class="separator:ab2bb020b11f5bebf1ce8ca9b47975b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:aab20567a0b91dfad98592e5f3a4b6f64"><td class="memItemLeft" align="right" valign="top"><a id="aab20567a0b91dfad98592e5f3a4b6f64"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>newMessages</b> (const QHash&lt; QString, QList&lt; <a class="el" href="classMessage.html">Message</a> * &gt;&gt;)</td></tr>
<tr class="separator:aab20567a0b91dfad98592e5f3a4b6f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1f02cf5dc513056a2c898d8e4430a4c9"><td class="memItemLeft" align="right" valign="top"><a id="a1f02cf5dc513056a2c898d8e4430a4c9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MessageStore</b> (QObject *parent=nullptr)</td></tr>
<tr class="separator:a1f02cf5dc513056a2c898d8e4430a4c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32be6396553441cc75fcef44f7119144"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageStore.html#a32be6396553441cc75fcef44f7119144">createSnapshot</a> (QString dirname)</td></tr>
<tr class="memdesc:a32be6396553441cc75fcef44f7119144"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classMessageStore.html#a32be6396553441cc75fcef44f7119144" title="createSnapshot() saves the latest message of all topics into a specified location">createSnapshot()</a> saves the latest message of all topics into a specified location  <a href="classMessageStore.html#a32be6396553441cc75fcef44f7119144">More...</a><br /></td></tr>
<tr class="separator:a32be6396553441cc75fcef44f7119144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80b8d46f4cba0fde7f6a5ed981480d8d"><td class="memItemLeft" align="right" valign="top"><a id="a80b8d46f4cba0fde7f6a5ed981480d8d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setMessageCap</b> (int cap)</td></tr>
<tr class="separator:a80b8d46f4cba0fde7f6a5ed981480d8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17edd9ba83482df7fdd027fb6a141c3f"><td class="memItemLeft" align="right" valign="top"><a id="a17edd9ba83482df7fdd027fb6a141c3f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getMessageCap</b> ()</td></tr>
<tr class="separator:a17edd9ba83482df7fdd027fb6a141c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe4202a87c067c3b42dbdee61798522"><td class="memItemLeft" align="right" valign="top"><a id="abbe4202a87c067c3b42dbdee61798522"></a>
const QHash&lt; QString, QList&lt; <a class="el" href="classMessage.html">Message</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getAllMessages</b> ()</td></tr>
<tr class="separator:abbe4202a87c067c3b42dbdee61798522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac637fcdf4f4d719e29862f7e39456b9e"><td class="memItemLeft" align="right" valign="top"><a id="ac637fcdf4f4d719e29862f7e39456b9e"></a>
const QHash&lt; QString, QList&lt; <a class="el" href="classMessage.html">Message</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getNewMessages</b> ()</td></tr>
<tr class="separator:ac637fcdf4f4d719e29862f7e39456b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2460dd82545a4ad0e6ef492c97f13daa"><td class="memItemLeft" align="right" valign="top"><a id="a2460dd82545a4ad0e6ef492c97f13daa"></a>
const QList&lt; <a class="el" href="classMessage.html">Message</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getTopicMessages</b> (const QString topic)</td></tr>
<tr class="separator:a2460dd82545a4ad0e6ef492c97f13daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-slots"></a>
Private Slots</h2></td></tr>
<tr class="memitem:a2699f5f79c9f9fd46f4e9c4d48cdc158"><td class="memItemLeft" align="right" valign="top"><a id="a2699f5f79c9f9fd46f4e9c4d48cdc158"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleTick</b> ()</td></tr>
<tr class="separator:a2699f5f79c9f9fd46f4e9c4d48cdc158"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a83371a7d764d11e4e96d0e942f7d9630"><td class="memItemLeft" align="right" valign="top"><a id="a83371a7d764d11e4e96d0e942f7d9630"></a>
QTimer *&#160;</td><td class="memItemRight" valign="bottom"><b>ticker</b></td></tr>
<tr class="separator:a83371a7d764d11e4e96d0e942f7d9630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a248735a095b46a443553b31dab6a8bbb"><td class="memItemLeft" align="right" valign="top"><a id="a248735a095b46a443553b31dab6a8bbb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>message_capacity</b></td></tr>
<tr class="separator:a248735a095b46a443553b31dab6a8bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6130b88a8541534d19eaf0d8949d4868"><td class="memItemLeft" align="right" valign="top"><a id="a6130b88a8541534d19eaf0d8949d4868"></a>
QHash&lt; QString, QList&lt; <a class="el" href="classMessage.html">Message</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>messages</b></td></tr>
<tr class="separator:a6130b88a8541534d19eaf0d8949d4868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a7c836910198677b75b466ff9be2b1"><td class="memItemLeft" align="right" valign="top"><a id="ab4a7c836910198677b75b466ff9be2b1"></a>
QHash&lt; QString, QList&lt; <a class="el" href="classMessage.html">Message</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>new_messages</b></td></tr>
<tr class="separator:ab4a7c836910198677b75b466ff9be2b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="messagestore_8h_source.html#l00043">43</a> of file <a class="el" href="messagestore_8h_source.html">messagestore.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab2bb020b11f5bebf1ce8ca9b47975b7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2bb020b11f5bebf1ce8ca9b47975b7a">&#9670;&nbsp;</a></span>addMessage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageStore::addMessage </td>
          <td>(</td>
          <td class="paramtype">const mqtt::const_message_ptr&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MessageType&#160;</td>
          <td class="paramname"><em>type</em> = <code>MessageType::RECEIVED</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a new message to the store. </p>
<p>A message can be either sent or received. Due to the way the MQTT protocol is made, it sends back to the sender their sent message. To overcome the fact this method attempts to filter out such message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>message </td></tr>
    <tr><td class="paramname">type</td><td>type of the message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="messagestore_8cpp_source.html#l00094">94</a> of file <a class="el" href="messagestore_8cpp_source.html">messagestore.cpp</a>.</p>

</div>
</div>
<a id="a32be6396553441cc75fcef44f7119144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32be6396553441cc75fcef44f7119144">&#9670;&nbsp;</a></span>createSnapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageStore::createSnapshot </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>dirname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classMessageStore.html#a32be6396553441cc75fcef44f7119144" title="createSnapshot() saves the latest message of all topics into a specified location">createSnapshot()</a> saves the latest message of all topics into a specified location </p>
<p>Inside of the user-specified directory will be messages for all topics. They will not be put into a parent directory called after e.g., the server. The file structure will mimic the tree structure of the topics. If a name in the chain of topic names is unknown, it is replaced by "&lt;undefined-topipc-name&gt;". </p>

<p class="definition">Definition at line <a class="el" href="messagestore_8cpp_source.html#l00031">31</a> of file <a class="el" href="messagestore_8cpp_source.html">messagestore.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="messagestore_8h_source.html">messagestore.h</a></li>
<li><a class="el" href="messagestore_8cpp_source.html">messagestore.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMessageStore.html">MessageStore</a></li>
    <li class="footer">Generated on Tue May 11 2021 10:26:40 for fit-mqtt-client by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
